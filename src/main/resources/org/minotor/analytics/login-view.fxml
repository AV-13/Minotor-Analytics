<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<StackPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="org.minotor.analytics.controller.LoginController"
           stylesheets="@modern-dashboard.css"
           styleClass="login-root">

    <!-- Fond avec gradient -->
    <Region styleClass="login-background"/>

    <!-- Contenu principal -->
    <HBox alignment="CENTER" spacing="80" styleClass="login-main-container">

        <!-- Section gauche - Branding -->
        <VBox alignment="CENTER" spacing="32" prefWidth="400" styleClass="login-branding">

            <VBox alignment="CENTER" spacing="24">
                <ImageView fx:id="logoImageView" fitWidth="150" fitHeight="150" preserveRatio="true" />

                <VBox alignment="CENTER" spacing="8">
                    <Label text="MINOT'OR Analytics" styleClass="brand-title"/>
                    <Label text="Tableau de bord analytique professionnel" styleClass="brand-subtitle"/>
                </VBox>
            </VBox>

            <VBox alignment="CENTER" spacing="16" styleClass="brand-features">
                <Label text="✓ Analyse des données en temps réel" styleClass="feature-text"/>
                <Label text="✓ Rapports détaillés et exports" styleClass="feature-text"/>
                <Label text="✓ Interface moderne et intuitive" styleClass="feature-text"/>
            </VBox>

        </VBox>

        <!-- Section droite - Formulaire -->
        <VBox spacing="40" prefWidth="560" styleClass="login-form-container" alignment="CENTER">

            <VBox alignment="CENTER" spacing="12">
                <Label text="Connexion" styleClass="form-title"/>
                <Label text="Accédez à votre espace analytique" styleClass="form-description"/>
            </VBox>

            <!-- Formulaire -->
            <VBox spacing="20" styleClass="login-form" alignment="CENTER">

                <!-- Champ Email -->
                <VBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="Adresse email" styleClass="form-label"/>
                    <TextField fx:id="emailField"
                               promptText="Entrez votre adresse email"
                               styleClass="form-input"
                               maxWidth="400"/>
                </VBox>

                <!-- Champ Mot de passe -->
                <VBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="Mot de passe" styleClass="form-label"/>
                    <PasswordField fx:id="passwordField"
                                   promptText="Entrez votre mot de passe"
                                   styleClass="form-input"
                                   maxWidth="400"/>
                </VBox>

                <!-- Messages d'erreur -->
                <Label fx:id="errorLabel"
                       text="Erreur de connexion"
                       styleClass="error-label"
                       visible="false"
                       managed="false"
                       maxWidth="400"/>

                <!-- Bouton de connexion -->
                <VBox spacing="16" alignment="CENTER">
                    <Button fx:id="loginButton"
                            text="Se connecter"
                            onAction="#onLoginButtonClick"
                            styleClass="login-button"/>

                    <ProgressIndicator fx:id="loadingIndicator"
                                       prefWidth="32"
                                       prefHeight="32"
                                       visible="false"
                                       managed="false"/>
                </VBox>

            </VBox>

            <!-- Footer -->
            <VBox alignment="CENTER" spacing="8" styleClass="login-form-footer">
                <Label text="© 2024 MINOT'OR - Tous droits réservés" styleClass="footer-text"/>
            </VBox>

        </VBox>

    </HBox>

</StackPane>